{% extends 'layouts/master.html' %}
{% block contain %}

<div class="container">
	<form method="POST" enctype="multipart/form-data" action="/">
		<div class="form-group">
			<input type="file" class="form-control" required id="file" name="file">
		</div>
		<div class="text-center">
			<button type="submit" class="btn btn-default" name="action" value="Upload">送出</button>
		</div>
	</form>
	<div class="row portfolio-item">
		<div class="col-lg-6">
			{% if output %}
			<a href="{{ url_for('downloadFile') }}" class="btn btn-info">下載已轉換之EDX題目</a>
			{% endif %}
		</div>
		<div class="col-lg-6">
			{% if arr %}
			<a href="#arr" class="btn btn-light">點我看無法轉換之題目</a>
			{% endif %}
		</div>
	</div>

	<div class="row portfolio-item">
		{# EDX題目 #}
		<div class="col-lg-6 mb-12 ">
			<div id="accordionedx">
				{% if edx2 %} {% for question in edx2 %}
				<div class="card">
					<div class="card-header">
						<a class="card-link" data-toggle="collapse" href=#collapseedx{{loop.index}}>
							#EDX題目{{loop.index}}
						</a>
					</div>
					<div class="collapse" data-parent="#accordionedx" id=collapseedx{{loop.index}}>
						<div class="card-body">
							<pre id=edx{{loop.index}} class="card-text">{{p}}
{% for ans in question %}{{ans}}
{% endfor %}{{p2}}</pre>
						</div>
						<div class="card-footer">
							<button data-clipboard-target=#edx{{loop.index}} class="btn btn-primary">複製題目</button>
						</div>
					</div>
				</div>
				{% endfor %} {% endif %}
			</div>
		</div>

		{# moodle題目 #}
		<div class="col-lg-6 mb-12 ">
			<div id="accordionmoodle">

				{% if moodle %} {% for question in moodle %}
				<div class="card">
					<div class="card-header">
						<a class="card-link" data-toggle="collapse" href=#collapsemoodle{{loop.index}}>
							#moodle題目{{loop.index}}
						</a>
					</div>
					<div class="collapse" data-parent="#accordionmoodle" id=collapsemoodle{{loop.index}}>
						<div class="card-body">
							<pre id=moodle{{loop.index}} class="card-text">{{p}}
{% for ans in question %}{{ans}}
{% endfor %}{{p2}}</pre>
						</div>
						<div class="card-footer">
							<button data-clipboard-target=#moodle{{loop.index}} class="btn btn-primary">複製題目</button>
						</div>
					</div>
				</div>
				{% endfor %} {% endif %}
			</div>

		</div>
	</div>
	<div class="row portfolio-item">
		<div class="col-lg-12 mb-12 ">
			{% if arr %}
			<div class="card" id="arr">
				<div class="card-header">
					<p>無法轉換</p>
				</div>
				<div class="card-body">
					<pre class="card-text">
{% for question in arr %}{{question}}
{% endfor %}</pre>
				</div>
			</div>
			{% endif %}
		</div>
	</div>
</div>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<script>
	var clipboard = new ClipboardJS('button');
</script> {% endblock %}